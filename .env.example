# ----------------------------
# App
# ----------------------------
APP_NAME=starter
APP_ENV=local
APP_DEBUG=false
APP_KEY=dev-only
APP_TIMEZONE=+08:00
RUST_LOG=info
DEFAULT_PER_PAGE=30
DATATABLE_UNKNOWN_FILTER_MODE=ignore
DATATABLE_EXPORT_LINK_TTL_SECS=604800
# Used by scripts/install-ubuntu.sh to run services under an isolated Linux user.
# Leave empty for local dev; installer will prompt and persist it.
PROJECT_USER=
# Installer writes this using selected project slug for supervisor/nginx naming.
# Leave empty to auto-derive "{APP_NAME}-{APP_ENV}" in scripts/update.sh.
SUPERVISOR_PROJECT_SLUG=

# ----------------------------
# Paths
# ----------------------------
APP_CONFIGS_PATH=app/configs.toml
APP_MIGRATIONS_DIR=migrations
APP_SEEDERS_DIR=app/src/seeds
PUBLIC_PATH=public

# ----------------------------
# i18n
# ----------------------------
I18N_DIR=i18n

# ----------------------------
# Framework docs / OpenAPI
# ----------------------------
ENABLE_FRAMEWORK_DOCS=false
FRAMEWORK_DOCS_PATH=/framework-documentation
# Optional explicit docs assets directory override.
# Default resolution is PUBLIC_PATH + FRAMEWORK_DOCS_PATH.
FRAMEWORK_DOCS_DIST_DIR=
ENABLE_OPENAPI_DOCS=true
OPENAPI_DOCS_PATH=/openapi
OPENAPI_JSON_PATH=/openapi.json

# ----------------------------
# Server
# ----------------------------
SERVER_HOST=127.0.0.1
SERVER_PORT=3000

# ----------------------------
# Realtime
# ----------------------------
REALTIME_ENABLED=true
REALTIME_HOST=127.0.0.1
REALTIME_PORT=3010
REALTIME_REQUIRE_AUTH=false
REALTIME_HEARTBEAT_SECS=20
REALTIME_PRESENCE_TTL_SECS=60
REALTIME_MAX_CONNECTIONS=10000
REALTIME_MAX_MESSAGE_BYTES=65536
REALTIME_MAX_FRAME_BYTES=65536
REALTIME_MAX_MESSAGES_PER_SEC=150
REALTIME_SEND_QUEUE_CAPACITY=1024
REALTIME_CHECKPOINT_ENABLED=false
REALTIME_CHECKPOINT_TTL_SECS=2592000
REALTIME_DELIVERY_MODE=at_most_once
REALTIME_STREAM_MAX_LEN=100000
REALTIME_STREAM_RETENTION_SECS=0
REALTIME_REPLAY_LIMIT_DEFAULT=200
REALTIME_REPLAY_LIMIT_MAX=1000
REALTIME_REPLAY_GAP_ALERT_THRESHOLD=100
REALTIME_REPLAY_GAP_ALERT_WINDOW_SECS=60

# ----------------------------
# Database (Postgres)
# ----------------------------
DATABASE_URL=postgres://postgres:postgres@127.0.0.1:5432/starter
DB_MAX_CONNECTIONS=10
DB_CONNECT_TIMEOUT_SECS=5
# Optional; 0..1023 typical for distributed Snowflake IDs.
SNOWFLAKE_NODE_ID=1

# ----------------------------
# Redis
# ----------------------------
# REDIS_URL has priority. If empty, REDIS_HOST/PORT/PASSWORD/DB will be used.
REDIS_URL=redis://127.0.0.1:6379/0
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
# Leave empty to auto-derive "{APP_NAME}_{APP_ENV}".
REDIS_CACHE_PREFIX=

# ----------------------------
# Object Storage (S3/R2/MinIO)
# ----------------------------
S3_ENDPOINT=
S3_REGION=auto
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_FORCE_PATH_STYLE=false
# Public base URL for file access (CDN/CNAME).
S3_URL=

# ----------------------------
# Mailer
# ----------------------------
MAIL_ENABLE=false
MAIL_DRIVER=log
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM_ADDRESS=hello@example.com

# ----------------------------
# Middleware
# ----------------------------
MW_RATE_LIMIT_PER_SEC=2
MW_RATE_LIMIT_BURST=60
MW_TIMEOUT_SECS=30
MW_BODY_LIMIT_MB=10

# ----------------------------
# HTTP Logging
# ----------------------------
HTTP_LOG_WEBHOOK_ENABLED=false
HTTP_LOG_WEBHOOK_PATHS=/wh/,/webhook/
HTTP_LOG_CLIENT_ENABLED=false
HTTP_LOG_RETENTION_DAYS=7

# ----------------------------
# Worker
# ----------------------------
RUN_WORKER=false
WORKER_CONCURRENCY=10
WORKER_SWEEP_INTERVAL=30

# ----------------------------
# Admin Bootstrap Seeder
# ----------------------------
SEED_ADMIN_BOOTSTRAP_IN_PROD=false
SEED_ADMIN_DEVELOPER_USERNAME=developer
SEED_ADMIN_DEVELOPER_EMAIL=
SEED_ADMIN_DEVELOPER_PASSWORD=password123
SEED_ADMIN_DEVELOPER_NAME=Developer
SEED_ADMIN_SUPERADMIN_USERNAME=superadmin
SEED_ADMIN_SUPERADMIN_EMAIL=
SEED_ADMIN_SUPERADMIN_PASSWORD=password123
SEED_ADMIN_SUPERADMIN_NAME=Super Admin
